<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>Mamaku Journey</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet' />
    
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }

      .marker {
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/0/0d/Fiddlehead_-_The_Noun_Project.svg');
        background-size: cover;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
      }

      .mapboxgl-popup {
        max-width: 300px;
        overflow-y: scroll;
        overflow-x: scroll;
      }

      .mapboxgl-popup-content {
        text-align: center;
        font-family: 'Open Sans', sans-serif;
      }

      /*.mapboxgl-popup-image {
        max-width: 100%;
      }
      /*.img {max-width:300px;
      }

    </style>
  </head>

  <body>
    <div id='map'></div>
    <script>

      // Replace this access token with your own if
      // you plan to use this template in another application.
      // Get a token from mapbox.com/studio/account/tokens
      mapboxgl.accessToken = 'pk.eyJ1IjoibWFyZW5hYiIsImEiOiJjajV2ajVyZXUwMnN3MzNwNzR3Ynk2cjIyIn0.sI-ynx23EEdpZFbEDu6qjA'; // replace this with your access token

      // Set bounds
    var bounds = [
    [-133.61572265625, 45.62940492064501], // Southwest coordinates
    [-118.76220703125001, 53.74871079689897]  // Northeast coordinates
    ];
      
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/marenab/cje3at2jv0i2b2slggsvy2svp', // replace this with your style URL
        center: [-125.164, 49.533], // Coordiantes go [long, lat]
        zoom: 6.5
      });

      // Store journey points  GeoJSON as a variable 
      var moorings = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "Name": "Hidden Harbour Marine Centre, Victoria",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/03/20/log-of-the-sy-mamaku\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/182be1874352d307d796a01f0fb7e7a4/5BCF3968/t51.2885-15/e35/19050149_144715786074595_5952878256267984896_n.jpg\" alt=\"Hidden Harbour Marine Centre\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -123.398271,
          48.4272712
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Cadboro Bay",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/14/around-vancouver-island-part-1-departing-victoria-to-desolation-sound\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/img_3208.jpg\" alt=\"Cadboro Bay\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -123.2965278,
          48.4546111
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Pender Island, Bedwell Harbour",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/14/around-vancouver-island-part-1-departing-victoria-to-desolation-sound\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/dsc04719.jpg\" alt=\"Pender Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -123.2358333,
          48.7506667
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Ruxton Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/14/around-vancouver-island-part-1-departing-victoria-to-desolation-sound\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/f5a00903df00816f9d383a0966f02de3/5BF14722/t51.2885-15/e35/36149562_2266483696696985_948396617965240320_n.jpg\" alt=\"Ruxton Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -123.7146389,
          49.0831944
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Savary Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/14/around-vancouver-island-part-1-departing-victoria-to-desolation-sound\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/66fa631b8ac77c2e995f168bf0d1e2b7/5BFADEBD/t51.2885-15/e35/19623485_116591525624970_8382988593638932480_n.jpg\" alt=\"Savary Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -124.8399167,
          49.9429722
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Teakerne Arm, West Redonda Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/14/around-vancouver-island-part-1-departing-victoria-to-desolation-sound\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/img_3217.jpg\" alt=\"Teakerne Arm\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -124.8478333,
          50.1965
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Cortes Island",
        "blog": "<p><a href=\\\"https://mamakusailing.com/2017/07/14/around-vancouver-island-part-1-departing-victoria-to-desolation-sound\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/img_3264.jpg\" alt=\"Cortes Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -124.9773056,
          50.1959444
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Yuculta Rapids",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/23/around-vancouver-island-part-2-desolation-sound-to-the-broughton-archipelago\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/img_3373.jpg\" alt=\"Yuculta Rapids\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -125.1499444,
          50.3764444
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Sonora Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/23/around-vancouver-island-part-2-desolation-sound-to-the-broughton-archipelago\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/1a6986b5e71bb7c574e1cf9ca55d1ee5/5BE0A354/t51.2885-15/e35/19954856_323861601404594_4586379255075569664_n.jpg\" alt=\"Sonora Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -125.3170278,
          50.366
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Johnston Strait",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/23/around-vancouver-island-part-2-desolation-sound-to-the-broughton-archipelago\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/dsc05064.jpg\" alt=\"Johnston Strait\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -126.0220278,
          50.453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Harbledown Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/23/around-vancouver-island-part-2-desolation-sound-to-the-broughton-archipelago\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/a180034eba9e5041fd364609f5cfeb28/5BDADD8A/t51.2885-15/e35/30602419_176585493155218_6917640847114633216_n.jpg\" alt=\"Harbledown Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -126.6471111,
          50.5895556
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Echo Bay, Gilford Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/23/around-vancouver-island-part-2-desolation-sound-to-the-broughton-archipelago\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/img_3425.jpg\" alt=\"Echo Bay\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -126.4956667,
          50.7515556
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Port Hardy",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/07/25/land-time-hiking-the-north-coast-trail-and-cape-scott\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/07/cape-sutil.jpg\" alt=\"Port Hardy\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -127.4771389,
          50.7259167
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Bull Habour",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/08/15/around-vancouver-island-part-3-rounding-cape-scott-to-sea-otter-cove\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/08/dsc05662.jpg\" alt=\"Bull Harbour\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -127.9356944,
          50.9031944
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Sea Otter Cove",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/08/15/around-vancouver-island-part-3-rounding-cape-scott-to-sea-otter-cove\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/08/img_3526.jpg\" alt=\"Sea Otter Cove\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -128.3495833,
          50.6849444
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Winter Harbour",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/08/15/around-vancouver-island-part-3-rounding-cape-scott-to-sea-otter-cove\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/08/dsc06672.jpg\" alt=\"Winter Harbour\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -128.0225833,
          50.5220556
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Klaskino Inlet",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/08/22/around-vancouver-island-part-4-brooks-peninsula-and-our-first-beach-clean-up\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/612d01aedcc7cec8fc88e519c2ff6044/5BD3CD5C/t51.2885-15/e35/21433848_1590340764319477_4955523529433939968_n.jpg\" alt=\"Klaskino Inlet\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -127.7895833,
          50.3198056
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Columbia Cove",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/08/22/around-vancouver-island-part-4-brooks-peninsula-and-our-first-beach-clean-up\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/08/img_3704.jpg\" alt=\"Columbia Cove\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -127.6884032,
          50.1366209
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Rugged Point, Tatchu Peninsula",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/09/06/round-vancouver-island-part-5-tatchu-peninsula-and-catching-our-first-salmon\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/09/dsc07326.jpg\" alt=\"Rugged Point\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -127.2542026,
          49.9659672
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Mary Basin, Nuchatlitz Inlet, Nootka Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/09/27/round-vancouver-island-part-6-caves-shipwrecks-storms-and-waves\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/09/img_3547.jpg\" alt=\"Mary Basin\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -126.8450767,
          49.7912565
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Louis Bay, Nuchatlitz Inlet, Nootka Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/09/27/round-vancouver-island-part-6-caves-shipwrecks-storms-and-waves\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/09/dsc07472.jpg\" alt=\"Louis Bay\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -126.9217354,
          49.753174
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Hot Springs Cove, Openit Peninsula",
        "blog": "<p><a href=\"https://mamakusailing.com/2017/11/26/around-vancouver-island-part-7-nootka-reefs-waterfalls-and-hot-springs\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2017/11/20934161_1693466957629015_563526671280551349_o.jpg\" alt=\"Hot Springs Cove\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -126.2648351,
          49.3620885
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Blunden Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2018/01/27/around-vancouver-island-part-8-vargas-island-tsunami-debris-and-the-journey-home\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/7acea99534d92208085330079a622a46/5BE02033/t51.2885-15/e35/30080214_172409603577915_7487537562244874240_n.jpg\" alt=\"Blunden Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -126.0531466,
          49.1801815
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Vargas Island",
        "blog": "<p><a href=\"https://mamakusailing.com/2018/01/27/around-vancouver-island-part-8-vargas-island-tsunami-debris-and-the-journey-home\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2018/01/img_3976.jpg\" alt=\"Vargas Island\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -125.987754,
          49.1517514
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Tofino",
        "blog": "<p><a href=\"https://mamakusailing.com/2018/01/27/around-vancouver-island-part-8-vargas-island-tsunami-debris-and-the-journey-home\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://scontent-sjc3-1.cdninstagram.com/vp/8535f9f1f04835ae8cda5a5c39898ff0/5BDCAF2B/t51.2885-15/e35/36160053_2085040418435234_4883662129502093312_n.jpg\" alt=\"Tofino\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -125.9119015,
          49.1506772
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Ucluelet",
        "blog": "<p><a href=\"https://mamakusailing.com/2018/01/27/around-vancouver-island-part-8-vargas-island-tsunami-debris-and-the-journey-home\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2018/01/img_3998.jpg\" alt=\"Ucluelet\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -125.5545078,
          48.9454804
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Name": "Broken Group Islands, Barkley Sound",
        "blog": "<p><a href=\"https://mamakusailing.com/2018/01/27/around-vancouver-island-part-8-vargas-island-tsunami-debris-and-the-journey-home\" target=\"_blank\" title=\"Opens in a new window\">Ship's log</a></p>",
        "photo": "<img src=\"https://mamakustories.files.wordpress.com/2018/01/img_4039.jpg?w=386&h=257\" alt=\"Barkley Sound\" width=\"280\">"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -125.2710739,
          48.9380588
        ]
      }
    }
  ]
};

    // add markers to map
    moorings.features.forEach(function(marker) {

    // create a HTML element for each feature
    var el = document.createElement('div');
    el.className = 'marker';

    // make a marker for each feature and add to the map
    new mapboxgl.Marker(el)
    .setLngLat(marker.geometry.coordinates)
    .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups
    //.setHTML('<h3>' + marker.properties.Name + '</h3>'))
    //.setHTML('<h3>' + marker.properties.Name + '</h3><p>' + marker.properties.blog + '</p>'))
    .setHTML('<h3>' + marker.properties.Name + '</h3><p>' + marker.properties.blog + '</p><p>' + marker.properties.photo + '</p>'))
    .addTo(map);
    });

    </script>
  </body>
</html>
